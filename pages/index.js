import Head from 'next/head'
import About from '../components/About/About'
import CallToAction from '../components/CallToAction/CallToAction'
import { educationInfo, Skills } from '../data/data'
import { Layout } from '../layout/Layout'
import { Container, Background } from '../layout/LayoutStyles'
import { useInView } from 'react-intersection-observer';
import Projects from '../components/Projects/Projects'


export default function Home(props) {
  const { ref: refAbout, inView: inViewAbout } = useInView({
    /* Optional options */
    threshold: 0.5,
    triggerOnce: true,
  });
  const { ref: refCallToAction, inView: inViewCallToAction} = useInView({
    /* Optional options */
    threshold: 0.5,
    triggerOnce: true,
  });

  return (
    <>
      <Head>
        <title>Create Next App</title>
        <meta name="description" content="Generated by create next app" />
        <link rel="icon" href="/favicon.ico" />
      </Head>
      <Layout>
        <Container ref={refCallToAction}><CallToAction inView={inViewCallToAction} /></Container>
        <Background url={'./stacked-waves-haikei.svg'} id='About'>
          <Container ref={refAbout} >
            <About education={props.educationData} inView={inViewAbout} skills={props.skills} />
          </Container>
        </Background>
        <Container>
          <Projects />
        </Container>
      </Layout>
    </>
  )
}



export async function getStaticProps() {
  const educationData = educationInfo;
  const skills = Skills;
  if (!educationData) {
    return {
      notFound: true,
    }
  }
  return {
    props: { educationData, skills }, // will be passed to the page component as props
  }
}
